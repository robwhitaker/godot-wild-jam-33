[gd_scene load_steps=11 format=2]

[ext_resource path="res://assets/images/grass64.png" type="Texture" id=1]
[ext_resource path="res://assets/resources/foliageTileSet.tres" type="TileSet" id=2]
[ext_resource path="res://scripts/utils/Transporter.gd" type="Script" id=3]
[ext_resource path="res://scenes/characters/Player.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/objects/flowerlight.tscn" type="PackedScene" id=5]
[ext_resource path="res://assets/resources/groundOnly.tres" type="TileSet" id=6]
[ext_resource path="res://scenes/characters/Enemy.tscn" type="PackedScene" id=7]
[ext_resource path="res://scripts/utils/Nav2DInit.gd" type="Script" id=8]

[sub_resource type="NavigationPolygon" id=2]
vertices = PoolVector2Array( 436.056, 76.1759, 460.007, 76.5299, 556.102, 100.037, 396.218, 99.5654, 204.711, 98.237, 203.952, 76.1762, 300.101, 76.1195, 148.279, 67.6717, 76.0511, 44.0128, 148.481, 43.0009, 172.131, 43.0009, 172.139, 67.9867, 216.161, 311.796, 296.018, 311.675, 311.84, 311.852, 172.285, 322.696, 199.884, 311.87, 278.915, 211.265, 427.769, 290.295, 403.39, 291.336, 300.146, 290.765, 151.739, 288.076, 235.024, 211.501, 363.954, 44.4655, 563.896, 44.0651, 588.243, 44.4397, 628.323, 66.5397, 459.535, 67.5631, 300.194, 67.6915, 627.573, 74.7804, 651.734, 74.9677, 372.043, 99.8807, 283.961, 290.843, 275.949, 290.777, 531.797, 100.863, 140.189, 34.3419, 129.063, -0.0484543, 690.21, 0.745247, 588.243, 35.4499, 563.146, 36.3863, 363.954, 35.7347, 171.921, 34.5919, 376.484, 311.85, 463.684, 308.47, 495.865, 309.132, 632.381, 335.227, 614.919, 335.935, 172.174, 332.273, 436.056, 68.9789, 460.002, 138.978, 504.125, 120, 531.915, 108.06, 555.866, 107.942, 521.689, 291.253, 507.916, 290.988, 403.836, 300.255, 428.363, 299.809, 376.187, 303.971, 285.05, 194.747, 427.819, 139.88, 436.08, 138.978, 504.473, 292.048, 456.135, 291.651, 652.857, 66.9143, 487.875, 120.5, 458.95, 131.191, 632.617, 344.194, 690.21, 373.784, 17.1517, 374.578, 616.099, 344.901, 503.875, 111.75, 524.073, 298.802, 200.465, 36.113, 200.605, 51.9678, 179.856, 68.9316, 359.687, 303.971, 358.795, 312.147, 312.016, 303.985, 299.853, 298.59, 148.008, 332.273, 427.908, 131.66, 436.22, 131.191, 404.043, 139.88, 180.013, 76.2549, 180.115, 99.183, 172.217, 76.1762, 248.45, 51.9678, 248.59, 35.9727, 340.121, 36.0886, 339.885, 43.8756, 275.66, 67.9725, 76.0505, 331.754, 148.12, 324.478, 62.1284, 341.783, 151.606, 307.808, 200.255, 303.62, 295.93, 303.72, 216.087, 303.694, 276.081, 298.855, 204.291, 106.856, 371.938, 107.974, 229.125, 195.219, 275.941, 76.0259, 203.873, 67.9867, 396.113, 107.974, 487.75, 112.125, 75.8146, 328.096, 296.637, 303.808, 75.9354, 204.028, 76.2327, 195.407, 180.115, 106.856, 404.131, 132.278, 62.0104, 333.288, 67.6736, 332.816, 116.028, 34.7165, 16.358, -4.01695, 102.739, 290.724, 52.1863, 44.0128, 148.121, 75.7824, 58.6919, 195.555, 52.7458, 195.258, 52.1512, 203.88, 104.725, 307.411, 68.0276, 323.849, 68.4498, 36.0578, 115.935, 42.9572, 75.6976, 40.1237, 502.089, 299.199, 55.8752, 344.378, 39.9473, 344.024, 39.4754, 335.883, 52.3357, 331.636, 60.5946, 323.849, 52.1863, 39.5933, 60.4948, 36.0578, 140.001, 42.9572, 148.376, 34.697 )
polygons = [ PoolIntArray( 0, 1, 2, 3, 4, 5, 6 ), PoolIntArray( 7, 8, 9, 10, 11 ), PoolIntArray( 12, 13, 14, 15, 16 ), PoolIntArray( 17, 18, 19, 20, 21, 22 ), PoolIntArray( 23, 24, 25, 26, 27, 28 ), PoolIntArray( 1, 29, 30, 2 ), PoolIntArray( 4, 3, 31 ), PoolIntArray( 21, 20, 32, 33 ), PoolIntArray( 3, 2, 34 ), PoolIntArray( 35, 36, 37, 38, 39, 40, 41 ), PoolIntArray( 15, 42, 43, 44, 45, 46, 47 ), PoolIntArray( 28, 27, 48, 6 ), PoolIntArray( 49, 50, 51, 52, 53, 54 ), PoolIntArray( 55, 56, 43, 42, 57 ), PoolIntArray( 58, 59, 60, 49, 54, 61, 62, 18, 17 ), PoolIntArray( 37, 63, 26, 25, 38 ), PoolIntArray( 64, 50, 49, 65 ), PoolIntArray( 66, 67, 68, 69 ), PoolIntArray( 30, 63, 37, 67, 66, 45 ), PoolIntArray( 62, 43, 56, 18 ), PoolIntArray( 51, 50, 70 ), PoolIntArray( 2, 30, 45, 52 ), PoolIntArray( 52, 45, 71, 53 ), PoolIntArray( 10, 41, 72, 73, 74 ), PoolIntArray( 75, 76, 77, 78 ), PoolIntArray( 14, 77, 76 ), PoolIntArray( 39, 24, 23, 40 ), PoolIntArray( 47, 46, 69, 68, 79 ), PoolIntArray( 80, 81, 60, 59 ), PoolIntArray( 82, 59, 58 ), PoolIntArray( 74, 83, 84, 85, 11, 10 ), PoolIntArray( 86, 87, 88, 89, 28, 90 ), PoolIntArray( 91, 92, 79, 68, 93 ), PoolIntArray( 94, 21, 33, 95 ), PoolIntArray( 96, 13, 12, 97, 98 ), PoolIntArray( 99, 4, 31, 100, 58, 101 ), PoolIntArray( 6, 48, 0 ), PoolIntArray( 102, 6, 5 ), PoolIntArray( 90, 102, 5, 103, 86 ), PoolIntArray( 104, 3, 34, 51, 70, 105 ), PoolIntArray( 5, 4, 84, 83 ), PoolIntArray( 92, 91, 106 ), PoolIntArray( 78, 20, 19, 55, 57, 75 ), PoolIntArray( 98, 78, 77, 107, 96 ), PoolIntArray( 99, 101, 108, 109, 110 ), PoolIntArray( 29, 1, 27, 26 ), PoolIntArray( 89, 23, 28 ), PoolIntArray( 73, 86, 103, 74 ), PoolIntArray( 104, 105, 64, 65, 81 ), PoolIntArray( 104, 81, 80, 111, 100 ), PoolIntArray( 33, 98, 97, 95 ), PoolIntArray( 93, 112, 113 ), PoolIntArray( 36, 35, 114, 115 ), PoolIntArray( 108, 101, 22, 21, 116 ), PoolIntArray( 117, 8, 7, 118, 109, 119, 120 ), PoolIntArray( 121, 108, 116, 122, 123 ), PoolIntArray( 118, 85, 84, 110, 109 ), PoolIntArray( 124, 115, 114, 125, 126 ), PoolIntArray( 111, 82, 58, 100 ), PoolIntArray( 44, 127, 71, 45 ), PoolIntArray( 93, 113, 91 ), PoolIntArray( 128, 93, 68 ), PoolIntArray( 129, 128, 68 ), PoolIntArray( 129, 68, 115, 130 ), PoolIntArray( 131, 130, 115, 132 ), PoolIntArray( 123, 132, 115, 121 ), PoolIntArray( 76, 42, 15 ), PoolIntArray( 14, 76, 15 ), PoolIntArray( 95, 16, 15, 92, 106, 123, 94 ), PoolIntArray( 122, 94, 123 ), PoolIntArray( 120, 121, 115, 117 ), PoolIntArray( 133, 117, 115 ), PoolIntArray( 134, 133, 115 ), PoolIntArray( 124, 134, 115 ), PoolIntArray( 8, 126, 125 ), PoolIntArray( 9, 8, 125, 135 ), PoolIntArray( 136, 9, 135, 35 ), PoolIntArray( 87, 72, 41 ), PoolIntArray( 41, 136, 35 ), PoolIntArray( 87, 41, 40, 88 ) ]
outlines = [ PoolVector2Array( 16.358, -4.01695, 17.1517, 374.578, 690.21, 373.784, 690.21, 0.745247, 129.063, -0.0484543 ), PoolVector2Array( 52.1863, 39.5933, 60.4948, 36.0578, 68.4498, 36.0578, 75.6976, 40.1237, 76.0511, 44.0128, 52.1863, 44.0128 ), PoolVector2Array( 116.028, 34.7165, 115.935, 42.9572, 140.001, 42.9572, 140.189, 34.3419 ), PoolVector2Array( 148.376, 34.697, 148.481, 43.0009, 172.131, 43.0009, 171.921, 34.5919 ), PoolVector2Array( 172.217, 76.1762, 172.139, 67.9867, 148.279, 67.6717, 148.121, 75.7824 ), PoolVector2Array( 179.856, 68.9316, 180.013, 76.2549, 203.952, 76.1762, 203.873, 67.9867 ), PoolVector2Array( 200.465, 36.113, 200.605, 51.9678, 248.45, 51.9678, 248.59, 35.9727 ), PoolVector2Array( 275.941, 76.0259, 275.66, 67.9725, 300.194, 67.6915, 300.101, 76.1195 ), PoolVector2Array( 339.885, 43.8756, 340.121, 36.0886, 363.954, 35.7347, 363.954, 44.4655 ), PoolVector2Array( 372.043, 99.8807, 371.938, 107.974, 396.113, 107.974, 396.218, 99.5654 ), PoolVector2Array( 404.131, 132.278, 404.043, 139.88, 427.819, 139.88, 427.908, 131.66 ), PoolVector2Array( 436.08, 138.978, 436.22, 131.191, 458.95, 131.191, 460.002, 138.978 ), PoolVector2Array( 436.056, 76.1759, 436.056, 68.9789, 459.535, 67.5631, 460.007, 76.5299 ), PoolVector2Array( 487.75, 112.125, 487.875, 120.5, 504.125, 120, 503.875, 111.75 ), PoolVector2Array( 531.797, 100.863, 531.915, 108.06, 555.866, 107.942, 556.102, 100.037 ), PoolVector2Array( 563.146, 36.3863, 563.896, 44.0651, 588.243, 44.4397, 588.243, 35.4499 ), PoolVector2Array( 627.573, 74.7804, 628.323, 66.5397, 652.857, 66.9143, 651.734, 74.9677 ), PoolVector2Array( 614.919, 335.935, 616.099, 344.901, 632.617, 344.194, 632.381, 335.227 ), PoolVector2Array( 456.135, 291.651, 504.473, 292.048, 507.916, 290.988, 521.689, 291.253, 524.073, 298.802, 502.089, 299.199, 495.865, 309.132, 463.684, 308.47 ), PoolVector2Array( 403.39, 291.336, 403.836, 300.255, 428.363, 299.809, 427.769, 290.295 ), PoolVector2Array( 359.687, 303.971, 358.795, 312.147, 376.484, 311.85, 376.187, 303.971 ), PoolVector2Array( 295.93, 303.72, 296.018, 311.675, 311.84, 311.852, 312.016, 303.985, 296.637, 303.808 ), PoolVector2Array( 283.961, 290.843, 300.146, 290.765, 299.853, 298.59, 276.081, 298.855, 275.949, 290.777 ), PoolVector2Array( 200.255, 303.62, 199.884, 311.87, 216.161, 311.796, 216.087, 303.694 ), PoolVector2Array( 148.12, 324.478, 148.008, 332.273, 172.174, 332.273, 172.285, 322.696 ), PoolVector2Array( 102.739, 290.724, 104.725, 307.411, 151.606, 307.808, 151.739, 288.076 ), PoolVector2Array( 39.4754, 335.883, 39.9473, 344.024, 55.8752, 344.378, 62.1284, 341.783, 62.0104, 333.288, 67.6736, 332.816, 76.0505, 331.754, 75.8146, 328.096, 68.0276, 323.849, 60.5946, 323.849, 52.3357, 331.636 ), PoolVector2Array( 58.6919, 195.555, 76.2327, 195.407, 75.9354, 204.028, 52.1512, 203.88, 52.7458, 195.258 ), PoolVector2Array( 180.115, 99.183, 180.115, 106.856, 204.291, 106.856, 204.711, 98.237 ), PoolVector2Array( 229.125, 195.219, 235.024, 211.501, 278.915, 211.265, 285.05, 194.747 ) ]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 10.7689, 192.036 )

[node name="Level0" type="Node2D"]

[node name="Background" type="TextureRect" parent="."]
margin_top = -1.0
margin_right = 712.0
margin_bottom = 373.0
texture = ExtResource( 1 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Navigation2D" type="Navigation2D" parent="."]
script = ExtResource( 8 )

[node name="TileMap" type="TileMap" parent="Navigation2D"]
tile_set = ExtResource( 6 )
format = 1
tile_data = PoolIntArray( 65539, 0, 0, 65545, 0, 0, 131074, 1, 0, 131075, 0, 0, 131076, 1, 0, 131077, 1, 0, 131078, 1, 0, 131079, 1, 0, 131080, 0, 0, 131082, 1, 0, 196608, 1, 0, 196609, 1, 0, 196610, 1, 0, 196611, 0, 0, 196612, 0, 0, 196613, 1, 0, 196614, 0, 0, 196615, 1, 0, 196616, 1, 0, 196617, 1, 0, 196618, 1, 0, 262147, 0, 0 )

[node name="YSort" type="YSort" parent="Navigation2D"]

[node name="Player" parent="Navigation2D/YSort" instance=ExtResource( 4 )]
position = Vector2( 74.8974, 210.133 )

[node name="TileMap" type="TileMap" parent="Navigation2D/YSort"]
tile_set = ExtResource( 2 )
cell_size = Vector2( 32, 32 )
cell_tile_origin = 2
cell_y_sort = true
show_collision = true
collision_mask = 10
format = 1
tile_data = PoolIntArray( -65538, 11, 0, -65537, 11, 0, -131072, 11, 0, -131071, 11, 0, -131070, 11, 0, -131069, 11, 0, -131068, 11, 0, -131067, 11, 0, -131066, 11, 0, -131065, 11, 0, -131064, 11, 0, -131063, 11, 0, -131062, 11, 0, -131061, 11, 0, -131060, 11, 0, -131059, 11, 0, -131058, 11, 0, -131057, 11, 0, -131056, 11, 0, -131055, 11, 0, -131054, 11, 0, -131053, 11, 0, -131052, 11, 0, -131051, 11, 0, -131050, 11, 0, -2, 11, 0, 65534, 11, 0, 1, 9, 0, 3, 7, 0, 4, 7, 0, 6, 4, 0, 10, 9, 0, 17, 9, 0, 22, 11, 0, 131070, 11, 0, 65540, 9, 0, 65541, 9, 0, 65544, 9, 0, 65549, 9, 0, 65555, 7, 0, 65558, 11, 0, 196606, 11, 0, 131077, 7, 0, 131083, 9, 0, 131088, 9, 0, 131094, 11, 0, 262142, 11, 0, 196620, 9, 0, 196621, 7, 0, 196623, 5, 0, 196630, 11, 0, 327678, 11, 0, 262166, 11, 0, 393214, 11, 0, 327681, 9, 0, 327687, 4, 0, 327702, 11, 0, 458750, 11, 0, 393238, 11, 0, 524286, 11, 0, 458774, 11, 0, 589822, 11, 0, 524291, 4, 0, 524296, 7, 0, 524300, 9, 0, 524302, 4, 0, 524303, 7, 0, 524310, 11, 0, 655358, 11, 0, 589825, 9, 0, 589828, 9, 0, 589830, 5, 0, 589833, 5, 0, 589835, 5, 0, 589846, 11, 0, 720894, 11, 0, 655361, 5, 0, 655379, 5, 0, 655382, 11, 0, 786430, 11, 0, 720918, 11, 0, 851967, 11, 0, 786432, 11, 0, 786433, 11, 0, 786434, 11, 0, 786435, 11, 0, 786436, 11, 0, 786437, 11, 0, 786438, 11, 0, 786439, 11, 0, 786440, 11, 0, 786441, 11, 0, 786442, 11, 0, 786443, 11, 0, 786444, 11, 0, 786445, 11, 0, 786446, 11, 0, 786447, 11, 0, 786448, 11, 0, 786449, 11, 0, 786450, 11, 0, 786451, 11, 0, 786452, 11, 0, 786453, 11, 0, 917503, 11, 0, 851968, 11, 0, 851969, 11, 0, 851970, 11, 0 )

[node name="flowerlight" parent="Navigation2D/YSort" instance=ExtResource( 5 )]
position = Vector2( 179.246, 142.395 )

[node name="flowerlight2" parent="Navigation2D/YSort" instance=ExtResource( 5 )]
position = Vector2( 585.578, 246.784 )

[node name="Enemy" parent="Navigation2D/YSort" instance=ExtResource( 7 )]
position = Vector2( 343.266, 214.012 )
search_start_delay = 3.0

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="Navigation2D"]
position = Vector2( 0.141151, 0.148621 )
navpoly = SubResource( 2 )

[node name="CanvasModulate" type="CanvasModulate" parent="."]
visible = false
color = Color( 0.0352941, 0.0352941, 0.0352941, 1 )

[node name="TransporterLeft" type="Area2D" parent="."]
position = Vector2( -194.874, 144.765 )
script = ExtResource( 3 )
__meta__ = {
"_edit_group_": true
}
next_scene_path = "res://scenes/rooms/Start.tscn"
next_scene_position_x = 480.0
next_scene_position_y = 147.0
next_scene_direction = "right"

[node name="CollisionShape2D" type="CollisionShape2D" parent="TransporterLeft"]
position = Vector2( 200.852, 41.1637 )
shape = SubResource( 1 )
__meta__ = {
"_edit_group_": true
}

[node name="TransporterRight" type="Area2D" parent="."]
position = Vector2( 325, 90 )
script = ExtResource( 3 )
next_scene_path = "res://scenes/rooms/Level1.tscn"
next_scene_position_x = 53.0
next_scene_position_y = 535.0
next_scene_direction = "right"

[node name="CollisionShape2D" type="CollisionShape2D" parent="TransporterRight"]
position = Vector2( 376.259, 98.3101 )
shape = SubResource( 1 )
__meta__ = {
"_edit_group_": true
}
